{
  "version": 3,
  "sources": ["../../client/patients.tsx"],
  "sourcesContent": ["import React, { FormEvent, useEffect, useState } from 'react';\nimport { Patient } from '../types';\n\nexport default () => {\n    const [ patients, setPatients ] = useState<Array<Patient>>([]);\n    const [ isAddPatient, setIsAddPatient ] = useState<boolean>(false);\n\n    const openAddPatient = () => setIsAddPatient(true);\n    const closeAddPatient = () => setIsAddPatient(false);\n\n    const load = async () => {\n        await fetch('/api/patients', { method: 'GET' })\n            .then(r => r.json())\n            .then(d => setPatients(d));\n\n    };\n\n    const submit = async (e: FormEvent) => {\n        e.preventDefault();\n        setIsAddPatient(false);\n        const target = e.target as HTMLFormElement;\n        const data = Object.fromEntries(new FormData(target));\n\n        const result = await fetch('/api/patient', { method: 'PUT', body: JSON.stringify(data) });\n\n        console.log(result);\n        await load();\n    };\n\n    useEffect(() => {\n        load();\n    }, []);\n\n    return <>\n\n        <div className=\"row\">\n            <h1 className=\"max\">Patients</h1>\n            <button onClick={openAddPatient}>\n                <i>add</i>\n                <span>Add Patient</span>\n            </button>\n        </div>\n\n        <article className=\"border\">\n            <ul className=\"list large-space border\">\n                {patients.map(patient => <>\n                    <li>\n                        <i>account_circle</i>\n                        <div className=\"max\">{patient.firstName} {patient.lastName}</div>\n                        <a className=\"button\" href={`/patient?id=${patient.id}`}>View</a>\n                    </li>\n                </>)}\n            </ul>\n        </article>\n\n        <dialog className=\"modal\" open={isAddPatient}>\n            <div className=\"grid\">\n                <h5 className=\"s10\">Add Patient</h5>\n                <button className=\"s2\" onClick={closeAddPatient}>\n                    <i>close</i>\n                </button>\n            </div>\n            <form onSubmit={submit} className=\"grid\">\n                <div className=\"field label border s12 m6\">\n                    <input name=\"firstName\" required />\n                    <label>First Name</label>\n                </div>\n                <div className=\"field label border s12 m6\">\n                    <input name=\"lastName\" required />\n                    <label>Last Name</label>\n                </div>\n                <div className=\"s12 right-align\">\n                    <button type=\"submit\">\n                        <i>save</i>\n                        <span>Add</span>\n                    </button>\n                </div>\n            </form>\n        </dialog>\n\n    </>;\n};"],
  "mappings": "+CAAA,IAAAA,EAAsD,SAG/CC,EAAQ,IAAM,CACjB,GAAM,CAAEC,EAAUC,CAAY,KAAI,YAAyB,CAAC,CAAC,EACvD,CAAEC,EAAcC,CAAgB,KAAI,YAAkB,EAAK,EAE3DC,EAAiB,IAAMD,EAAgB,EAAI,EAC3CE,EAAkB,IAAMF,EAAgB,EAAK,EAE7CG,EAAO,SAAY,CACrB,MAAM,MAAM,gBAAiB,CAAE,OAAQ,KAAM,CAAC,EACzC,KAAKC,GAAKA,EAAE,KAAK,CAAC,EAClB,KAAKC,GAAKP,EAAYO,CAAC,CAAC,CAEjC,EAEMC,EAAS,MAAOC,GAAiB,CACnCA,EAAE,eAAe,EACjBP,EAAgB,EAAK,EACrB,IAAMQ,EAASD,EAAE,OACXE,EAAO,OAAO,YAAY,IAAI,SAASD,CAAM,CAAC,EAE9CE,EAAS,MAAM,MAAM,eAAgB,CAAE,OAAQ,MAAO,KAAM,KAAK,UAAUD,CAAI,CAAE,CAAC,EAExF,QAAQ,IAAIC,CAAM,EAClB,MAAMP,EAAK,CACf,EAEA,sBAAU,IAAM,CACZA,EAAK,CACT,EAAG,CAAC,CAAC,EAEE,EAAAQ,QAAA,gBAAAA,QAAA,cAEH,EAAAA,QAAA,cAAC,OAAI,UAAU,OACX,EAAAA,QAAA,cAAC,MAAG,UAAU,OAAM,UAAQ,EAC5B,EAAAA,QAAA,cAAC,UAAO,QAASV,GACb,EAAAU,QAAA,cAAC,SAAE,KAAG,EACN,EAAAA,QAAA,cAAC,YAAK,aAAW,CACrB,CACJ,EAEA,EAAAA,QAAA,cAAC,WAAQ,UAAU,UACf,EAAAA,QAAA,cAAC,MAAG,UAAU,2BACTd,EAAS,IAAIe,GAAW,EAAAD,QAAA,gBAAAA,QAAA,cACrB,EAAAA,QAAA,cAAC,UACG,EAAAA,QAAA,cAAC,SAAE,gBAAc,EACjB,EAAAA,QAAA,cAAC,OAAI,UAAU,OAAOC,EAAQ,UAAU,IAAEA,EAAQ,QAAS,EAC3D,EAAAD,QAAA,cAAC,KAAE,UAAU,SAAS,KAAM,eAAeC,EAAQ,EAAE,IAAI,MAAI,CACjE,CACJ,CAAG,CACP,CACJ,EAEA,EAAAD,QAAA,cAAC,UAAO,UAAU,QAAQ,KAAMZ,GAC5B,EAAAY,QAAA,cAAC,OAAI,UAAU,QACX,EAAAA,QAAA,cAAC,MAAG,UAAU,OAAM,aAAW,EAC/B,EAAAA,QAAA,cAAC,UAAO,UAAU,KAAK,QAAST,GAC5B,EAAAS,QAAA,cAAC,SAAE,OAAK,CACZ,CACJ,EACA,EAAAA,QAAA,cAAC,QAAK,SAAUL,EAAQ,UAAU,QAC9B,EAAAK,QAAA,cAAC,OAAI,UAAU,6BACX,EAAAA,QAAA,cAAC,SAAM,KAAK,YAAY,SAAQ,GAAC,EACjC,EAAAA,QAAA,cAAC,aAAM,YAAU,CACrB,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,6BACX,EAAAA,QAAA,cAAC,SAAM,KAAK,WAAW,SAAQ,GAAC,EAChC,EAAAA,QAAA,cAAC,aAAM,WAAS,CACpB,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,mBACX,EAAAA,QAAA,cAAC,UAAO,KAAK,UACT,EAAAA,QAAA,cAAC,SAAE,MAAI,EACP,EAAAA,QAAA,cAAC,YAAK,KAAG,CACb,CACJ,CACJ,CACJ,CAEJ,CACJ",
  "names": ["import_react", "patients_default", "patients", "setPatients", "isAddPatient", "setIsAddPatient", "openAddPatient", "closeAddPatient", "load", "r", "d", "submit", "e", "target", "data", "result", "React", "patient"]
}
