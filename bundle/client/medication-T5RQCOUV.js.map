{
  "version": 3,
  "sources": ["../../client/medication.tsx"],
  "sourcesContent": ["import React, { FormEvent, useEffect, useState } from 'react';\nimport { Medication, Patient } from '../types';\n\nexport default () => {\n    const { id, patient } = Object.fromEntries(new URLSearchParams(location.search));\n\n    const [ medication, setMedication ] = useState<Medication>({} as any);\n\n    // const [ modalState, setModalState ] = useState<boolean>(false);\n    // const modalOpen = () => setModalState(true);\n    // const modalClose = () => setModalState(false);\n\n    const save = async (e: FormEvent) => {\n        e.preventDefault();\n        const target = e.target as HTMLFormElement;\n        const data = Object.fromEntries(new FormData(target));\n        console.log(data);\n\n        // const result = await fetch(`/api/medication`, {\n        //     method: 'PUT',\n        //     body: JSON.stringify({\n        //         ...data,\n        //         patient,\n        //     }),\n        // });\n\n        // console.log(result);\n    };\n\n    const add = async (e: FormEvent) => {\n        e.preventDefault();\n        const target = e.target as HTMLFormElement;\n        const data = Object.fromEntries(new FormData(target));\n\n        const result = await fetch(`/api/medication`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                ...data,\n                patient,\n            }),\n        }).then(r => r.json());\n        console.log(result);\n\n        location.search += `&id=${result.id}`;\n    };\n\n    const remove = () => {\n\n    };\n\n    useEffect(() => {\n\n        if (id) {\n            fetch(`/api/medication?id=${id}`, { method: 'GET' })\n                .then(r => r.json())\n                .then(setMedication);\n        } else {\n\n        }\n\n    }, []);\n\n    return (<>\n\n        <div className=\"row\">\n            <a href={`/patient?id=${patient}`} className=\"button transparent\">\n                <i>arrow_back</i>\n            </a>\n            <h1 className=\"max\">Medication</h1>\n            <button type=\"button\" className=\"border error-border error-text\" onClick={remove}>\n                <i>delete</i>\n                <span>Remove Medication</span>\n            </button>\n        </div>\n\n        <article className=\"border\">\n            <h5 className=\"padding\">Details</h5>\n\n            <form className=\"grid\" onSubmit={id ? save : add}>\n                <div className=\"field label border s12 m6\">\n                    <input name=\"title\" value={medication?.title} required/>\n                    <label>Title</label>\n                </div>\n                <div className=\"field label border s12 m6\">\n                    <input name=\"description\" value={medication?.description} required/>\n                    <label>Description</label>\n                </div>\n                <div className=\"s12 right-align\">\n                    <button className=\"border\" type=\"submit\">\n                        <i>{id ? 'save' : 'add'}</i>\n                        <span>{id ? 'Save' : 'Add'}</span>\n                    </button>\n                </div>\n            </form>\n\n        </article>\n\n\n    </>);\n};"],
  "mappings": "+CAAA,IAAAA,EAAsD,SAG/CC,EAAQ,IAAM,CACjB,GAAM,CAAE,GAAAC,EAAI,QAAAC,CAAQ,EAAI,OAAO,YAAY,IAAI,gBAAgB,SAAS,MAAM,CAAC,EAEzE,CAAEC,EAAYC,CAAc,KAAI,YAAqB,CAAC,CAAQ,EAM9DC,EAAO,MAAOC,GAAiB,CACjCA,EAAE,eAAe,EACjB,IAAMC,EAASD,EAAE,OACXE,EAAO,OAAO,YAAY,IAAI,SAASD,CAAM,CAAC,EACpD,QAAQ,IAAIC,CAAI,CAWpB,EAEMC,EAAM,MAAOH,GAAiB,CAChCA,EAAE,eAAe,EACjB,IAAMC,EAASD,EAAE,OACXE,EAAO,OAAO,YAAY,IAAI,SAASD,CAAM,CAAC,EAE9CG,EAAS,MAAM,MAAM,kBAAmB,CAC1C,OAAQ,MACR,KAAM,KAAK,UAAU,CACjB,GAAGF,EACH,QAAAN,CACJ,CAAC,CACL,CAAC,EAAE,KAAKS,GAAKA,EAAE,KAAK,CAAC,EACrB,QAAQ,IAAID,CAAM,EAElB,SAAS,QAAU,OAAOA,EAAO,EAAE,EACvC,EAEME,EAAS,IAAM,CAErB,EAEA,sBAAU,IAAM,CAERX,GACA,MAAM,sBAAsBA,CAAE,GAAI,CAAE,OAAQ,KAAM,CAAC,EAC9C,KAAKU,GAAKA,EAAE,KAAK,CAAC,EAClB,KAAKP,CAAa,CAK/B,EAAG,CAAC,CAAC,EAEG,EAAAS,QAAA,gBAAAA,QAAA,cAEJ,EAAAA,QAAA,cAAC,OAAI,UAAU,OACX,EAAAA,QAAA,cAAC,KAAE,KAAM,eAAeX,CAAO,GAAI,UAAU,sBACzC,EAAAW,QAAA,cAAC,SAAE,YAAU,CACjB,EACA,EAAAA,QAAA,cAAC,MAAG,UAAU,OAAM,YAAU,EAC9B,EAAAA,QAAA,cAAC,UAAO,KAAK,SAAS,UAAU,iCAAiC,QAASD,GACtE,EAAAC,QAAA,cAAC,SAAE,QAAM,EACT,EAAAA,QAAA,cAAC,YAAK,mBAAiB,CAC3B,CACJ,EAEA,EAAAA,QAAA,cAAC,WAAQ,UAAU,UACf,EAAAA,QAAA,cAAC,MAAG,UAAU,WAAU,SAAO,EAE/B,EAAAA,QAAA,cAAC,QAAK,UAAU,OAAO,SAAUZ,EAAKI,EAAOI,GACzC,EAAAI,QAAA,cAAC,OAAI,UAAU,6BACX,EAAAA,QAAA,cAAC,SAAM,KAAK,QAAQ,MAAOV,GAAY,MAAO,SAAQ,KACtD,EAAAU,QAAA,cAAC,aAAM,OAAK,CAChB,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,6BACX,EAAAA,QAAA,cAAC,SAAM,KAAK,cAAc,MAAOV,GAAY,YAAa,SAAQ,KAClE,EAAAU,QAAA,cAAC,aAAM,aAAW,CACtB,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,mBACX,EAAAA,QAAA,cAAC,UAAO,UAAU,SAAS,KAAK,UAC5B,EAAAA,QAAA,cAAC,SAAGZ,EAAK,OAAS,KAAM,EACxB,EAAAY,QAAA,cAAC,YAAMZ,EAAK,OAAS,KAAM,CAC/B,CACJ,CACJ,CAEJ,CAGJ,CACJ",
  "names": ["import_react", "medication_default", "id", "patient", "medication", "setMedication", "save", "e", "target", "data", "add", "result", "r", "remove", "React"]
}
