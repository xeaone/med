import{b as p,c as u}from"./chunk-FUKNUBDN.js";var e=p(u(),1),f=()=>{let{id:a,patient:n}=Object.fromEntries(new URLSearchParams(location.search)),[r,d]=(0,e.useState)({}),l=async t=>{t.preventDefault();let i=t.target,o=Object.fromEntries(new FormData(i));console.log(o)},m=async t=>{t.preventDefault();let i=t.target,o=Object.fromEntries(new FormData(i)),s=await fetch("/api/medication",{method:"PUT",body:JSON.stringify({...o,patient:n})}).then(b=>b.json());console.log(s),location.search+=`&id=${s.id}`},c=()=>{};return(0,e.useEffect)(()=>{a&&fetch(`/api/medication?id=${a}`,{method:"GET"}).then(t=>t.json()).then(d)},[]),e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:"row"},e.default.createElement("a",{href:`/patient?id=${n}`,className:"button transparent"},e.default.createElement("i",null,"arrow_back")),e.default.createElement("h1",{className:"max"},"Medication"),e.default.createElement("button",{type:"button",className:"border error-border error-text",onClick:c},e.default.createElement("i",null,"delete"),e.default.createElement("span",null,"Remove Medication"))),e.default.createElement("article",{className:"border"},e.default.createElement("h5",{className:"padding"},"Details"),e.default.createElement("form",{className:"grid",onSubmit:a?l:m},e.default.createElement("div",{className:"field label border s12 m6"},e.default.createElement("input",{name:"title",value:r?.title,required:!0}),e.default.createElement("label",null,"Title")),e.default.createElement("div",{className:"field label border s12 m6"},e.default.createElement("input",{name:"description",value:r?.description,required:!0}),e.default.createElement("label",null,"Description")),e.default.createElement("div",{className:"s12 right-align"},e.default.createElement("button",{className:"border",type:"submit"},e.default.createElement("i",null,a?"save":"add"),e.default.createElement("span",null,a?"Save":"Add"))))))};export{f as default};
//# sourceMappingURL=medication-T5RQCOUV.js.map
