{
  "version": 3,
  "sources": ["../../client/patient.tsx"],
  "sourcesContent": ["import React, { FormEvent, useEffect, useState } from 'react';\nimport { Medication, Patient } from '../types';\n\nexport default () => {\n    const { id } = Object.fromEntries(new URLSearchParams(location.search));\n\n    const [ patient, setPatient ] = useState<Patient>({} as any);\n    const [ medications, setMedications ] = useState<Array<Medication>>([]);\n\n    const save = async (e: FormEvent) => {\n        e.preventDefault();\n        const target = e.target as HTMLFormElement;\n        const data = Object.fromEntries(new FormData(target));\n        console.log(data);\n    };\n\n    const add = async (e: FormEvent) => {\n        e.preventDefault();\n        const target = e.target as HTMLFormElement;\n        const data = Object.fromEntries(new FormData(target));\n        console.log(data);\n        // location.search += `&id=${result.id}`;\n    };\n\n    const remove = () => {\n\n    };\n\n    useEffect(() => {\n        const { id } = Object.fromEntries(new URLSearchParams(location.search));\n\n        fetch(`/api/patient?id=${id}`, { method: 'GET' })\n            .then(r => r.json())\n            .then(setPatient);\n\n        fetch(`/api/medications?patient=${id}`, { method: 'GET' })\n            .then(r => r.json())\n            .then(setMedications);\n\n    }, []);\n\n    return (<>\n\n        <div className=\"row\">\n            <a href=\"/patients\" className=\"button transparent\">\n                <i>arrow_back</i>\n            </a>\n            <h1 className=\"max\">Patient</h1>\n            <button className=\"border error-border error-text\" onClick={remove}>\n                <i>delete</i>\n                <span>Remove Patient</span>\n            </button>\n        </div>\n\n        <article className=\"border\">\n            <h5 className=\"padding\">Details</h5>\n            <form onSubmit={id ? save : add} className=\"grid\">\n                <div className=\"field label border s12 m6\">\n                    <input name=\"firstName\" value={patient.firstName} required/>\n                    <label>First Name</label>\n                </div>\n                <div className=\"field label border s12 m6\">\n                    <input name=\"lastName\" value={patient.lastName} required/>\n                    <label>Last Name</label>\n                </div>\n                <div className=\"s12 right-align\">\n                    <button className=\"border\" type=\"submit\">\n                        <i>save</i>\n                        <span>Save</span>\n                    </button>\n                </div>\n            </form>\n        </article>\n\n        <article className=\"border\">\n            <div className=\"row\">\n                <h5 className=\"max\">Medications</h5>\n                <a className=\"button border\" href={`/medication?patient=${patient.id}`}>\n                    <i>add</i>\n                    <span>Add Medication</span>\n                </a>\n            </div>\n            <ul className=\"list\">\n                {medications.map(medication => <>\n                    <li>\n                        <i>medication</i>\n                        <span className=\"max\">{medication.title}</span>\n                        <a className=\"button border\" href={`/medication?id=${medication.id}&patient=${patient.id}`}>View</a>\n                    </li>\n                </>)}\n            </ul>\n        </article>\n\n    </>);\n};"],
  "mappings": "+CAAA,IAAAA,EAAsD,SAG/CC,EAAQ,IAAM,CACjB,GAAM,CAAE,GAAAC,CAAG,EAAI,OAAO,YAAY,IAAI,gBAAgB,SAAS,MAAM,CAAC,EAEhE,CAAEC,EAASC,CAAW,KAAI,YAAkB,CAAC,CAAQ,EACrD,CAAEC,EAAaC,CAAe,KAAI,YAA4B,CAAC,CAAC,EAEhEC,EAAO,MAAO,GAAiB,CACjC,EAAE,eAAe,EACjB,IAAMC,EAAS,EAAE,OACXC,EAAO,OAAO,YAAY,IAAI,SAASD,CAAM,CAAC,EACpD,QAAQ,IAAIC,CAAI,CACpB,EAEMC,EAAM,MAAO,GAAiB,CAChC,EAAE,eAAe,EACjB,IAAMF,EAAS,EAAE,OACXC,EAAO,OAAO,YAAY,IAAI,SAASD,CAAM,CAAC,EACpD,QAAQ,IAAIC,CAAI,CAEpB,EAEME,EAAS,IAAM,CAErB,EAEA,sBAAU,IAAM,CACZ,GAAM,CAAE,GAAAT,CAAG,EAAI,OAAO,YAAY,IAAI,gBAAgB,SAAS,MAAM,CAAC,EAEtE,MAAM,mBAAmBA,CAAE,GAAI,CAAE,OAAQ,KAAM,CAAC,EAC3C,KAAKU,GAAKA,EAAE,KAAK,CAAC,EAClB,KAAKR,CAAU,EAEpB,MAAM,4BAA4BF,CAAE,GAAI,CAAE,OAAQ,KAAM,CAAC,EACpD,KAAKU,GAAKA,EAAE,KAAK,CAAC,EAClB,KAAKN,CAAc,CAE5B,EAAG,CAAC,CAAC,EAEG,EAAAO,QAAA,gBAAAA,QAAA,cAEJ,EAAAA,QAAA,cAAC,OAAI,UAAU,OACX,EAAAA,QAAA,cAAC,KAAE,KAAK,YAAY,UAAU,sBAC1B,EAAAA,QAAA,cAAC,SAAE,YAAU,CACjB,EACA,EAAAA,QAAA,cAAC,MAAG,UAAU,OAAM,SAAO,EAC3B,EAAAA,QAAA,cAAC,UAAO,UAAU,iCAAiC,QAASF,GACxD,EAAAE,QAAA,cAAC,SAAE,QAAM,EACT,EAAAA,QAAA,cAAC,YAAK,gBAAc,CACxB,CACJ,EAEA,EAAAA,QAAA,cAAC,WAAQ,UAAU,UACf,EAAAA,QAAA,cAAC,MAAG,UAAU,WAAU,SAAO,EAC/B,EAAAA,QAAA,cAAC,QAAK,SAAUX,EAAKK,EAAOG,EAAK,UAAU,QACvC,EAAAG,QAAA,cAAC,OAAI,UAAU,6BACX,EAAAA,QAAA,cAAC,SAAM,KAAK,YAAY,MAAOV,EAAQ,UAAW,SAAQ,KAC1D,EAAAU,QAAA,cAAC,aAAM,YAAU,CACrB,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,6BACX,EAAAA,QAAA,cAAC,SAAM,KAAK,WAAW,MAAOV,EAAQ,SAAU,SAAQ,KACxD,EAAAU,QAAA,cAAC,aAAM,WAAS,CACpB,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,mBACX,EAAAA,QAAA,cAAC,UAAO,UAAU,SAAS,KAAK,UAC5B,EAAAA,QAAA,cAAC,SAAE,MAAI,EACP,EAAAA,QAAA,cAAC,YAAK,MAAI,CACd,CACJ,CACJ,CACJ,EAEA,EAAAA,QAAA,cAAC,WAAQ,UAAU,UACf,EAAAA,QAAA,cAAC,OAAI,UAAU,OACX,EAAAA,QAAA,cAAC,MAAG,UAAU,OAAM,aAAW,EAC/B,EAAAA,QAAA,cAAC,KAAE,UAAU,gBAAgB,KAAM,uBAAuBV,EAAQ,EAAE,IAChE,EAAAU,QAAA,cAAC,SAAE,KAAG,EACN,EAAAA,QAAA,cAAC,YAAK,gBAAc,CACxB,CACJ,EACA,EAAAA,QAAA,cAAC,MAAG,UAAU,QACTR,EAAY,IAAIS,GAAc,EAAAD,QAAA,gBAAAA,QAAA,cAC3B,EAAAA,QAAA,cAAC,UACG,EAAAA,QAAA,cAAC,SAAE,YAAU,EACb,EAAAA,QAAA,cAAC,QAAK,UAAU,OAAOC,EAAW,KAAM,EACxC,EAAAD,QAAA,cAAC,KAAE,UAAU,gBAAgB,KAAM,kBAAkBC,EAAW,EAAE,YAAYX,EAAQ,EAAE,IAAI,MAAI,CACpG,CACJ,CAAG,CACP,CACJ,CAEJ,CACJ",
  "names": ["import_react", "patient_default", "id", "patient", "setPatient", "medications", "setMedications", "save", "target", "data", "add", "remove", "r", "React", "medication"]
}
